<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <title>DL WMS Offline</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="modules/reception-conteneur/reception-conteneur.css" />
  </head>
  <body>
    <div class="app-shell">
      <header class="topbar">
        <button class="icon-button" type="button" aria-label="Menu">
          <span aria-hidden="true">â˜°</span>
        </button>
        <p class="brand">Logo / DL Logistique Â©</p>
        <button class="icon-button bell-button" type="button" aria-label="Notifications">
          <span aria-hidden="true">ðŸ””</span>
          <span class="badge">3</span>
        </button>
      </header>

      <main id="appView" class="content" aria-live="polite"></main>

      <nav class="tabbar" aria-label="Navigation" id="tabbar"></nav>
    </div>

    <template id="dashboard-template">
      <section class="pill-zone" aria-label="Actions rapides">
        <button class="pill">ParamÃ¨tres</button>
        <button class="pill">Historique des mises Ã  jour</button>
        <button class="pill">Aide &amp; support</button>
      </section>

      <section class="cards-grid" id="cardsGrid"></section>

      <section class="report-card" aria-label="Rapport entrepÃ´t">
        <h2>Rapport entrepÃ´t</h2>
        <div class="chart-wrap">
          <canvas id="donutChart" width="220" height="220"></canvas>
          <ul id="chartLegend" class="legend"></ul>
        </div>
      </section>
    </template>

    <template id="ia-template">
      <section class="panel">
        <div class="section-head">
          <h1>Assistant IA</h1>
          <div class="inline-actions">
            <button class="small-btn" id="kbToggle">Base de connaissances</button>
            <button class="small-btn danger" id="iaReset">Effacer</button>
          </div>
        </div>

        <div class="chat-box" id="chatBox"></div>
        <form id="chatForm" class="chat-form">
          <input id="chatInput" type="text" placeholder="Pose une question WMS..." autocomplete="off" required />
          <button type="submit" class="small-btn">Envoyer</button>
        </form>
      </section>

      <section class="panel hidden" id="kbPanel">
        <h2>Connaissances</h2>
        <form id="kbForm" class="kb-form">
          <input name="title" type="text" placeholder="Titre" required />
          <textarea name="content" rows="3" placeholder="RÃ¨gle / note" required></textarea>
          <input name="tags" type="text" placeholder="tags, sÃ©parÃ©s, par, virgule" />
          <button class="small-btn" type="submit">Ajouter</button>
        </form>
        <ul id="kbList" class="simple-list"></ul>
      </section>
    </template>

    <template id="consolidation-template">
      <section class="panel">
        <h1>Consolidation</h1>
        <div class="action-bar">
          <label class="small-btn">Importer Inventaire (CSV)<input type="file" id="inventoryFile" accept=".csv" hidden /></label>
          <label class="small-btn">Importer RÃ©ception (CSV)<input type="file" id="receivingFile" accept=".csv" hidden /></label>
          <button class="small-btn" id="exportPdf">Exporter PDF</button>
          <button class="small-btn" id="exportCsv">Exporter Excel/CSV</button>
          <button class="small-btn" id="recomputeBtn">RafraÃ®chir / Recalculer</button>
        </div>
      </section>

      <section class="accordion-group" id="consolidationAccordions"></section>
    </template>

    <div id="toast" class="toast" role="status" aria-live="polite"></div>
    <script src="app.js"></script>
    <script src="modules/reception-conteneur/reception-conteneur.js"></script>
  </body>
</html>
